"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[242],{9242:function(e,t,a){a.r(t),a.d(t,{ccipRequest:function(){return R},offchainLookup:function(){return T},offchainLookupAbiItem:function(){return M},offchainLookupSignature:function(){return O}});var r=a(675),n=a(5544),s=a(467),c=a(3696),o=a(436),u=a(2901),i=a(3029),d=a(5501),l=a(9640),f=a(2376),p=a(4354),h=a(6546),b=function(e){(0,d.A)(a,e);var t=(0,l.A)(a);function a(e){var r,n=e.callbackSelector,s=e.cause,c=e.data,u=e.extraData,d=e.sender,l=e.urls;return(0,i.A)(this,a),t.call(this,s.shortMessage||"An error occurred while fetching for an offchain result.",{cause:s,metaMessages:[].concat((0,o.A)(s.metaMessages||[]),[null!==(r=s.metaMessages)&&void 0!==r&&r.length?"":[],"Offchain Gateway Call:",l&&["  Gateway URL(s):"].concat((0,o.A)(l.map((function(e){return"    ".concat((0,h.I)(e))})))),"  Sender: ".concat(d),"  Data: ".concat(c),"  Callback selector: ".concat(n),"  Extra data: ".concat(u)]).flat(),name:"OffchainLookupError"})}return(0,u.A)(a)}(p.C),m=function(e){(0,d.A)(a,e);var t=(0,l.A)(a);function a(e){var r=e.result,n=e.url;return(0,i.A)(this,a),t.call(this,"Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: ".concat((0,h.I)(n)),"Response: ".concat((0,f.A)(r))],name:"OffchainLookupResponseMalformedError"})}return(0,u.A)(a)}(p.C),k=function(e){(0,d.A)(a,e);var t=(0,l.A)(a);function a(e){var r=e.sender,n=e.to;return(0,i.A)(this,a),t.call(this,"Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: ".concat(n),"OffchainLookup sender address: ".concat(r)],name:"OffchainLookupSenderMismatchError"})}return(0,u.A)(a)}(p.C),y=a(2222),w=a(1321),A=a(3291),v=a(7155),x=a(42);function g(e,t){if(!(0,x.P)(e,{strict:!1}))throw new v.M({address:e});if(!(0,x.P)(t,{strict:!1}))throw new v.M({address:t});return e.toLowerCase()===t.toLowerCase()}var C=a(6572),L=a(6699),O="0x556f1830",M={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};function T(e,t){return S.apply(this,arguments)}function S(){return(S=(0,s.A)((0,r.A)().mark((function e(t,a){var s,o,u,i,d,l,f,p,h,m,y,v,x,L,O,T,S;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.blockNumber,o=a.blockTag,u=a.data,i=a.to,d=(0,w.W)({data:u,abi:[M]}),l=d.args,f=(0,n.A)(l,5),p=f[0],h=f[1],m=f[2],y=f[3],v=f[4],x=t.ccipRead,L=x&&"function"===typeof(null===x||void 0===x?void 0:x.request)?x.request:R,e.prev=5,g(i,p)){e.next=8;break}throw new k({sender:p,to:i});case 8:return e.next=10,L({data:m,sender:p,urls:h});case 10:return O=e.sent,e.next=13,(0,c.T)(t,{blockNumber:s,blockTag:o,data:(0,C.xW)([y,(0,A.h)([{type:"bytes"},{type:"bytes"}],[O,v])]),to:i});case 13:return T=e.sent,S=T.data,e.abrupt("return",S);case 18:throw e.prev=18,e.t0=e.catch(5),new b({callbackSelector:y,cause:e.t0,data:u,extraData:v,sender:p,urls:h});case 21:case"end":return e.stop()}}),e,null,[[5,18]])})))).apply(this,arguments)}function R(e){return E.apply(this,arguments)}function E(){return(E=(0,s.A)((0,r.A)().mark((function e(t){var a,n,s,c,o,u,i,d,l,p,h,b,k;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,n=t.sender,s=t.urls,c=new Error("An unknown error occurred."),o=0;case 3:if(!(o<s.length)){e.next=37;break}return u=s[o],i=u.includes("{data}")?"GET":"POST",d="POST"===i?{data:a,sender:n}:void 0,l="POST"===i?{"Content-Type":"application/json"}:{},e.prev=8,e.next=11,fetch(u.replace("{sender}",n).replace("{data}",a),{body:JSON.stringify(d),headers:l,method:i});case 11:if(h=e.sent,b=void 0,null===(p=h.headers.get("Content-Type"))||void 0===p||!p.startsWith("application/json")){e.next=19;break}return e.next=16,h.json();case 16:b=e.sent.data,e.next=22;break;case 19:return e.next=21,h.text();case 21:b=e.sent;case 22:if(h.ok){e.next=25;break}return c=new y.Ci({body:d,details:null!==(k=b)&&void 0!==k&&k.error?(0,f.A)(b.error):h.statusText,headers:h.headers,status:h.status,url:u}),e.abrupt("continue",34);case 25:if((0,L.q)(b)){e.next=28;break}return c=new m({result:b,url:u}),e.abrupt("continue",34);case 28:return e.abrupt("return",b);case 31:e.prev=31,e.t0=e.catch(8),c=new y.Ci({body:d,details:e.t0.message,url:u});case 34:o++,e.next=3;break;case 37:throw c;case 38:case"end":return e.stop()}}),e,null,[[8,31]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=242.845895c9.chunk.js.map