/*! For license information please see 932.c18dc2da.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[932],{2932:function(r,e,n){n.r(e),n.d(e,{encodeToCurve:function(){return Ee},hashToCurve:function(){return be},schnorr:function(){return we},secp256k1:function(){return $r}});var t={};n.r(t),n.d(t,{aInRange:function(){return _},abool:function(){return B},abytes:function(){return E},bitGet:function(){return D},bitLen:function(){return F},bitMask:function(){return K},bitSet:function(){return M},bytesToHex:function(){return A},bytesToNumberBE:function(){return q},bytesToNumberLE:function(){return T},concatBytes:function(){return L},createHmacDrbg:function(){return Y},ensureBytes:function(){return P},equalBytes:function(){return U},hexToBytes:function(){return R},hexToNumber:function(){return I},inRange:function(){return V},isBytes:function(){return b},memoized:function(){return Q},notImplemented:function(){return J},numberToBytesBE:function(){return N},numberToBytesLE:function(){return C},numberToHexUnpadded:function(){return S},numberToVarBytesBE:function(){return H},utf8ToBytes:function(){return z},validateObject:function(){return X}});var i=n(8780),o=n(1195),a=n(9379),u=n(3029),f=n(2901),c=n(5501),s=n(9640),d=n(9845),l=function(r){(0,c.A)(n,r);var e=(0,s.A)(n);function n(r,t){var i;(0,u.A)(this,n),(i=e.call(this)).finished=!1,i.destroyed=!1,(0,d.sd)(r);var a=(0,o.ZJ)(t);if(i.iHash=r.create(),"function"!==typeof i.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");i.blockLen=i.iHash.blockLen,i.outputLen=i.iHash.outputLen;var f=i.blockLen,c=new Uint8Array(f);c.set(a.length>f?r.create().update(a).digest():a);for(var s=0;s<c.length;s++)c[s]^=54;i.iHash.update(c),i.oHash=r.create();for(var l=0;l<c.length;l++)c[l]^=106;return i.oHash.update(c),c.fill(0),i}return(0,f.A)(n,[{key:"update",value:function(r){return(0,d.CC)(this),this.iHash.update(r),this}},{key:"digestInto",value:function(r){(0,d.CC)(this),(0,d.DO)(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}},{key:"digest",value:function(){var r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}},{key:"_cloneInto",value:function(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));var e=this.oHash,n=this.iHash,t=this.finished,i=this.destroyed,o=this.blockLen,a=this.outputLen;return r.finished=t,r.destroyed=i,r.blockLen=o,r.outputLen=a,r.oHash=e._cloneInto(r.oHash),r.iHash=n._cloneInto(r.iHash),r}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}]),n}(o.Vw),h=function(r,e,n){return new l(r,e).update(n).digest()};h.create=function(r,e){return new l(r,e)};var v=n(4765),g=n(3437),w=n(5544),y=BigInt(0),p=BigInt(1),m=BigInt(2);function b(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name}function E(r){if(!b(r))throw new Error("Uint8Array expected")}function B(r,e){if("boolean"!==typeof e)throw new Error(r+" boolean expected, got "+e)}var x=Array.from({length:256},(function(r,e){return e.toString(16).padStart(2,"0")}));function A(r){E(r);for(var e="",n=0;n<r.length;n++)e+=x[r[n]];return e}function S(r){var e=r.toString(16);return 1&e.length?"0"+e:e}function I(r){if("string"!==typeof r)throw new Error("hex string expected, got "+typeof r);return""===r?y:BigInt("0x"+r)}var k={_0:48,_9:57,A:65,F:70,a:97,f:102};function O(r){return r>=k._0&&r<=k._9?r-k._0:r>=k.A&&r<=k.F?r-(k.A-10):r>=k.a&&r<=k.f?r-(k.a-10):void 0}function R(r){if("string"!==typeof r)throw new Error("hex string expected, got "+typeof r);var e=r.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);for(var t=new Uint8Array(n),i=0,o=0;i<n;i++,o+=2){var a=O(r.charCodeAt(o)),u=O(r.charCodeAt(o+1));if(void 0===a||void 0===u){var f=r[o]+r[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}t[i]=16*a+u}return t}function q(r){return I(A(r))}function T(r){return E(r),I(A(Uint8Array.from(r).reverse()))}function N(r,e){return R(r.toString(16).padStart(2*e,"0"))}function C(r,e){return N(r,e).reverse()}function H(r){return R(S(r))}function P(r,e,n){var t;if("string"===typeof e)try{t=R(e)}catch(o){throw new Error(r+" must be hex string or Uint8Array, cause: "+o)}else{if(!b(e))throw new Error(r+" must be hex string or Uint8Array");t=Uint8Array.from(e)}var i=t.length;if("number"===typeof n&&i!==n)throw new Error(r+" of length "+n+" expected, got "+i);return t}function L(){for(var r=0,e=0;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];E(n),r+=n.length}for(var t=new Uint8Array(r),i=0,o=0;i<arguments.length;i++){var a=i<0||arguments.length<=i?void 0:arguments[i];t.set(a,o),o+=a.length}return t}function U(r,e){if(r.length!==e.length)return!1;for(var n=0,t=0;t<r.length;t++)n|=r[t]^e[t];return 0===n}function z(r){if("string"!==typeof r)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(r))}var Z=function(r){return"bigint"===typeof r&&y<=r};function V(r,e,n){return Z(r)&&Z(e)&&Z(n)&&e<=r&&r<n}function _(r,e,n,t){if(!V(e,n,t))throw new Error("expected valid "+r+": "+n+" <= n < "+t+", got "+e)}function F(r){var e;for(e=0;r>y;r>>=p,e+=1);return e}function D(r,e){return r>>BigInt(e)&p}function M(r,e,n){return r|(n?p:y)<<BigInt(e)}var K=function(r){return(m<<BigInt(r-1))-p},j=function(r){return new Uint8Array(r)},W=function(r){return Uint8Array.from(r)};function Y(r,e,n){if("number"!==typeof r||r<2)throw new Error("hashLen must be a number");if("number"!==typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");var t=j(r),i=j(r),o=0,a=function(){t.fill(1),i.fill(0),o=0},u=function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];return n.apply(void 0,[i,t].concat(e))},f=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();i=u(W([0]),r),t=u(),0!==r.length&&(i=u(W([1]),r),t=u())},c=function(){if(o++>=1e3)throw new Error("drbg: tried 1000 values");for(var r=0,n=[];r<e;){var i=(t=u()).slice();n.push(i),r+=t.length}return L.apply(void 0,n)};return function(r,e){a(),f(r);for(var n=void 0;!(n=e(c()));)f();return a(),n}}var G={bigint:function(r){return"bigint"===typeof r},function:function(r){return"function"===typeof r},boolean:function(r){return"boolean"===typeof r},string:function(r){return"string"===typeof r},stringOrUint8Array:function(r){return"string"===typeof r||b(r)},isSafeInteger:function(r){return Number.isSafeInteger(r)},array:function(r){return Array.isArray(r)},field:function(r,e){return e.Fp.isValid(r)},hash:function(r){return"function"===typeof r&&Number.isSafeInteger(r.outputLen)}};function X(r,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=function(e,n,t){var i=G[n];if("function"!==typeof i)throw new Error("invalid validator function");var o=r[e];if((!t||void 0!==o)&&!i(o,r))throw new Error("param "+String(e)+" is invalid. Expected "+n+", got "+o)},i=0,o=Object.entries(e);i<o.length;i++){var a=(0,w.A)(o[i],2);t(a[0],a[1],!1)}for(var u=0,f=Object.entries(n);u<f.length;u++){var c=(0,w.A)(f[u],2);t(c[0],c[1],!0)}return r}var J=function(){throw new Error("not implemented")};function Q(r){var e=new WeakMap;return function(n){var t=e.get(n);if(void 0!==t)return t;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var u=r.apply(void 0,[n].concat(o));return e.set(n,u),u}}var $=BigInt(0),rr=BigInt(1),er=BigInt(2),nr=BigInt(3),tr=BigInt(4),ir=BigInt(5),or=BigInt(8);function ar(r,e){var n=r%e;return n>=$?n:e+n}function ur(r,e,n){if(e<$)throw new Error("invalid exponent, negatives unsupported");if(n<=$)throw new Error("invalid modulus");if(n===rr)return $;for(var t=rr;e>$;)e&rr&&(t=t*r%n),r=r*r%n,e>>=rr;return t}function fr(r,e,n){for(var t=r;e-- >$;)t*=t,t%=n;return t}function cr(r,e){if(r===$)throw new Error("invert: expected non-zero number");if(e<=$)throw new Error("invert: expected positive modulus, got "+e);for(var n=ar(r,e),t=e,i=$,o=rr,a=rr,u=$;n!==$;){var f=t/n,c=t%n,s=i-a*f,d=o-u*f;t=n,n=c,i=a,o=u,a=s,u=d}if(t!==rr)throw new Error("invert: does not exist");return ar(i,e)}function sr(r){if(r%tr===nr){var e=(r+rr)/tr;return function(r,n){var t=r.pow(n,e);if(!r.eql(r.sqr(t),n))throw new Error("Cannot find square root");return t}}if(r%or===ir){var n=(r-ir)/or;return function(r,e){var t=r.mul(e,er),i=r.pow(t,n),o=r.mul(e,i),a=r.mul(r.mul(o,er),i),u=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),e))throw new Error("Cannot find square root");return u}}return function(r){var e,n,t,i=(r-rr)/er;for(e=r-rr,n=0;e%er===$;e/=er,n++);for(t=er;t<r&&ur(t,i,r)!==r-rr;t++)if(t>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){var o=(r+rr)/tr;return function(r,e){var n=r.pow(e,o);if(!r.eql(r.sqr(n),e))throw new Error("Cannot find square root");return n}}var a=(e+rr)/er;return function(r,o){if(r.pow(o,i)===r.neg(r.ONE))throw new Error("Cannot find square root");for(var u=n,f=r.pow(r.mul(r.ONE,t),e),c=r.pow(o,a),s=r.pow(o,e);!r.eql(s,r.ONE);){if(r.eql(s,r.ZERO))return r.ZERO;for(var d=1,l=r.sqr(s);d<u&&!r.eql(l,r.ONE);d++)l=r.sqr(l);var h=r.pow(f,rr<<BigInt(u-d-1));f=r.sqr(h),c=r.mul(c,h),s=r.mul(s,f),u=d}return c}}(r)}var dr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lr(r){return X(r,dr.reduce((function(r,e){return r[e]="function",r}),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function hr(r,e){var n=void 0!==e?e:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function vr(r,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r<=$)throw new Error("invalid field: expected ORDER > 0, got "+r);var i,o=hr(r,e),a=o.nBitLength,u=o.nByteLength;if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");var f=Object.freeze({ORDER:r,isLE:n,BITS:a,BYTES:u,MASK:K(a),ZERO:$,ONE:rr,create:function(e){return ar(e,r)},isValid:function(e){if("bigint"!==typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return $<=e&&e<r},is0:function(r){return r===$},isOdd:function(r){return(r&rr)===rr},neg:function(e){return ar(-e,r)},eql:function(r,e){return r===e},sqr:function(e){return ar(e*e,r)},add:function(e,n){return ar(e+n,r)},sub:function(e,n){return ar(e-n,r)},mul:function(e,n){return ar(e*n,r)},pow:function(r,e){return function(r,e,n){if(n<$)throw new Error("invalid exponent, negatives unsupported");if(n===$)return r.ONE;if(n===rr)return e;for(var t=r.ONE,i=e;n>$;)n&rr&&(t=r.mul(t,i)),i=r.sqr(i),n>>=rr;return t}(f,r,e)},div:function(e,n){return ar(e*cr(n,r),r)},sqrN:function(r){return r*r},addN:function(r,e){return r+e},subN:function(r,e){return r-e},mulN:function(r,e){return r*e},inv:function(e){return cr(e,r)},sqrt:t.sqrt||function(e){return i||(i=sr(r)),i(f,e)},invertBatch:function(r){return function(r,e){var n=new Array(e.length),t=e.reduce((function(e,t,i){return r.is0(t)?e:(n[i]=e,r.mul(e,t))}),r.ONE),i=r.inv(t);return e.reduceRight((function(e,t,i){return r.is0(t)?e:(n[i]=r.mul(e,n[i]),r.mul(e,t))}),i),n}(f,r)},cmov:function(r,e,n){return n?e:r},toBytes:function(r){return n?C(r,u):N(r,u)},fromBytes:function(r){if(r.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+r.length);return n?T(r):q(r)}});return Object.freeze(f)}function gr(r){if("bigint"!==typeof r)throw new Error("field order must be bigint");var e=r.toString(2).length;return Math.ceil(e/8)}function wr(r){var e=gr(r);return e+Math.ceil(e/2)}var yr=BigInt(0),pr=BigInt(1);function mr(r,e){var n=e.negate();return r?n:e}function br(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function Er(r,e){return br(r,e),{windows:Math.ceil(e/r)+1,windowSize:Math.pow(2,r-1)}}function Br(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((function(r,n){if(!(r instanceof e))throw new Error("invalid point at index "+n)}))}function xr(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((function(r,n){if(!e.isValid(r))throw new Error("invalid scalar at index "+n)}))}var Ar=new WeakMap,Sr=new WeakMap;function Ir(r){return Sr.get(r)||1}function kr(r){return lr(r.Fp),X(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,a.A)((0,a.A)((0,a.A)({},hr(r.n,r.nBitLength)),r),{p:r.Fp.ORDER}))}function Or(r){void 0!==r.lowS&&B("lowS",r.lowS),void 0!==r.prehash&&B("prehash",r.prehash)}var Rr=q,qr=R,Tr=function(r){(0,c.A)(n,r);var e=(0,s.A)(n);function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.A)(this,n),e.call(this,r)}return(0,f.A)(n)}((0,g.A)(Error)),Nr={Err:Tr,_tlv:{encode:function(r,e){var n=Nr.Err;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(1&e.length)throw new n("tlv.encode: unpadded data");var t=e.length/2,i=S(t);if(i.length/2&128)throw new n("tlv.encode: long form length too big");var o=t>127?S(i.length/2|128):"";return S(r)+o+i+e},decode:function(r,e){var n=Nr.Err,t=0;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[t++]!==r)throw new n("tlv.decode: wrong tlv");var i=e[t++],o=0;if(!!(128&i)){var a=127&i;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");var u=e.subarray(t,t+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(0===u[0])throw new n("tlv.decode(long): zero leftmost byte");var f,c=(0,v.A)(u);try{for(c.s();!(f=c.n()).done;){o=o<<8|f.value}}catch(d){c.e(d)}finally{c.f()}if(t+=a,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;var s=e.subarray(t,t+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(t+o)}}},_int:{encode:function(r){var e=Nr.Err;if(r<Cr)throw new e("integer: negative integers are not allowed");var n=S(r);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode:function(r){var e=Nr.Err;if(128&r[0])throw new e("invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new e("invalid signature integer: unnecessary leading zero");return Rr(r)}},toSig:function(r){var e=Nr.Err,n=Nr._int,t=Nr._tlv,i="string"===typeof r?qr(r):r;E(i);var o=t.decode(48,i),a=o.v;if(o.l.length)throw new e("invalid signature: left bytes after parsing");var u=t.decode(2,a),f=u.v,c=u.l,s=t.decode(2,c),d=s.v;if(s.l.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(f),s:n.decode(d)}},hexFromSig:function(r){var e=Nr._tlv,n=Nr._int,t=e.encode(2,n.encode(r.r))+e.encode(2,n.encode(r.s));return e.encode(48,t)}},Cr=BigInt(0),Hr=BigInt(1),Pr=BigInt(2),Lr=BigInt(3),Ur=BigInt(4);function zr(r){var e=function(r){var e=kr(r);X(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});var n=e.endo,t=e.Fp,i=e.a;if(n){if(!t.eql(i,t.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze((0,a.A)({},e))}(r),n=e.Fp,t=vr(e.n,e.nBitLength),i=e.toBytes||function(r,e,t){var i=e.toAffine();return L(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))},o=e.fromBytes||function(r){var e=r.subarray(1);return{x:n.fromBytes(e.subarray(0,n.BYTES)),y:n.fromBytes(e.subarray(n.BYTES,2*n.BYTES))}};function c(r){var t=e.a,i=e.b,o=n.sqr(r),a=n.mul(o,r);return n.add(n.add(a,n.mul(r,t)),i)}if(!n.eql(n.sqr(e.Gy),c(e.Gx)))throw new Error("bad generator point: equation left != right");function s(r){var n,t=e.allowedPrivateKeyLengths,i=e.nByteLength,o=e.wrapPrivateKey,a=e.n;if(t&&"bigint"!==typeof r){if(b(r)&&(r=A(r)),"string"!==typeof r||!t.includes(r.length))throw new Error("invalid private key");r=r.padStart(2*i,"0")}try{n="bigint"===typeof r?r:q(P("private key",r,i))}catch(u){throw new Error("invalid private key, expected hex or "+i+" bytes, got "+typeof r)}return o&&(n=ar(n,a)),_("private key",n,Hr,a),n}function d(r){if(!(r instanceof v))throw new Error("ProjectivePoint expected")}var l=Q((function(r,e){var t=r.px,i=r.py,o=r.pz;if(n.eql(o,n.ONE))return{x:t,y:i};var a=r.is0();null==e&&(e=a?n.ONE:n.inv(o));var u=n.mul(t,e),f=n.mul(i,e),c=n.mul(o,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:u,y:f}})),h=Q((function(r){if(r.is0()){if(e.allowInfinityPoint&&!n.is0(r.py))return;throw new Error("bad point: ZERO")}var t=r.toAffine(),i=t.x,o=t.y;if(!n.isValid(i)||!n.isValid(o))throw new Error("bad point: x or y not FE");var a=n.sqr(o),u=c(i);if(!n.eql(a,u))throw new Error("bad point: equation left != right");if(!r.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0})),v=function(){function r(e,t,i){if((0,u.A)(this,r),this.px=e,this.py=t,this.pz=i,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required");Object.freeze(this)}return(0,f.A)(r,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(r){p.setWindowSize(this,r)}},{key:"assertValidity",value:function(){h(this)}},{key:"hasEvenY",value:function(){var r=this.toAffine().y;if(n.isOdd)return!n.isOdd(r);throw new Error("Field doesn't support isOdd")}},{key:"equals",value:function(r){d(r);var e=this.px,t=this.py,i=this.pz,o=r.px,a=r.py,u=r.pz,f=n.eql(n.mul(e,u),n.mul(o,i)),c=n.eql(n.mul(t,u),n.mul(a,i));return f&&c}},{key:"negate",value:function(){return new r(this.px,n.neg(this.py),this.pz)}},{key:"double",value:function(){var t=e.a,i=e.b,o=n.mul(i,Lr),a=this.px,u=this.py,f=this.pz,c=n.ZERO,s=n.ZERO,d=n.ZERO,l=n.mul(a,a),h=n.mul(u,u),v=n.mul(f,f),g=n.mul(a,u);return g=n.add(g,g),d=n.mul(a,f),d=n.add(d,d),c=n.mul(t,d),s=n.mul(o,v),s=n.add(c,s),c=n.sub(h,s),s=n.add(h,s),s=n.mul(c,s),c=n.mul(g,c),d=n.mul(o,d),v=n.mul(t,v),g=n.sub(l,v),g=n.mul(t,g),g=n.add(g,d),d=n.add(l,l),l=n.add(d,l),l=n.add(l,v),l=n.mul(l,g),s=n.add(s,l),v=n.mul(u,f),v=n.add(v,v),l=n.mul(v,g),c=n.sub(c,l),d=n.mul(v,h),d=n.add(d,d),new r(c,s,d=n.add(d,d))}},{key:"add",value:function(t){d(t);var i=this.px,o=this.py,a=this.pz,u=t.px,f=t.py,c=t.pz,s=n.ZERO,l=n.ZERO,h=n.ZERO,v=e.a,g=n.mul(e.b,Lr),w=n.mul(i,u),y=n.mul(o,f),p=n.mul(a,c),m=n.add(i,o),b=n.add(u,f);m=n.mul(m,b),b=n.add(w,y),m=n.sub(m,b),b=n.add(i,a);var E=n.add(u,c);return b=n.mul(b,E),E=n.add(w,p),b=n.sub(b,E),E=n.add(o,a),s=n.add(f,c),E=n.mul(E,s),s=n.add(y,p),E=n.sub(E,s),h=n.mul(v,b),s=n.mul(g,p),h=n.add(s,h),s=n.sub(y,h),h=n.add(y,h),l=n.mul(s,h),y=n.add(w,w),y=n.add(y,w),p=n.mul(v,p),b=n.mul(g,b),y=n.add(y,p),p=n.sub(w,p),p=n.mul(v,p),b=n.add(b,p),w=n.mul(y,b),l=n.add(l,w),w=n.mul(E,b),s=n.mul(m,s),s=n.sub(s,w),w=n.mul(m,y),h=n.mul(E,h),new r(s,l,h=n.add(h,w))}},{key:"subtract",value:function(r){return this.add(r.negate())}},{key:"is0",value:function(){return this.equals(r.ZERO)}},{key:"wNAF",value:function(e){return p.wNAFCached(this,e,r.normalizeZ)}},{key:"multiplyUnsafe",value:function(t){var i=e.endo,o=e.n;_("scalar",t,Cr,o);var a=r.ZERO;if(t===Cr)return a;if(this.is0()||t===Hr)return this;if(!i||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,t,r.normalizeZ);for(var u=i.splitScalar(t),f=u.k1neg,c=u.k1,s=u.k2neg,d=u.k2,l=a,h=a,v=this;c>Cr||d>Cr;)c&Hr&&(l=l.add(v)),d&Hr&&(h=h.add(v)),v=v.double(),c>>=Hr,d>>=Hr;return f&&(l=l.negate()),s&&(h=h.negate()),h=new r(n.mul(h.px,i.beta),h.py,h.pz),l.add(h)}},{key:"multiply",value:function(t){var i,o,a=e.endo,u=e.n;if(_("scalar",t,Hr,u),a){var f=a.splitScalar(t),c=f.k1neg,s=f.k1,d=f.k2neg,l=f.k2,h=this.wNAF(s),v=h.p,g=h.f,w=this.wNAF(l),y=w.p,m=w.f;v=p.constTimeNegate(c,v),y=p.constTimeNegate(d,y),y=new r(n.mul(y.px,a.beta),y.py,y.pz),i=v.add(y),o=g.add(m)}else{var b=this.wNAF(t);i=b.p,o=b.f}return r.normalizeZ([i,o])[0]}},{key:"multiplyAndAddUnsafe",value:function(e,n,t){var i=r.BASE,o=function(r,e){return e!==Cr&&e!==Hr&&r.equals(i)?r.multiply(e):r.multiplyUnsafe(e)},a=o(this,n).add(o(e,t));return a.is0()?void 0:a}},{key:"toAffine",value:function(r){return l(this,r)}},{key:"isTorsionFree",value:function(){var n=e.h,t=e.isTorsionFree;if(n===Hr)return!0;if(t)return t(r,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}},{key:"clearCofactor",value:function(){var n=e.h,t=e.clearCofactor;return n===Hr?this:t?t(r,this):this.multiplyUnsafe(e.h)}},{key:"toRawBytes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return B("isCompressed",e),this.assertValidity(),i(r,this,e)}},{key:"toHex",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return B("isCompressed",r),A(this.toRawBytes(r))}}],[{key:"fromAffine",value:function(e){var t=e||{},i=t.x,o=t.y;if(!e||!n.isValid(i)||!n.isValid(o))throw new Error("invalid affine point");if(e instanceof r)throw new Error("projective point not allowed");var a=function(r){return n.eql(r,n.ZERO)};return a(i)&&a(o)?r.ZERO:new r(i,o,n.ONE)}},{key:"normalizeZ",value:function(e){var t=n.invertBatch(e.map((function(r){return r.pz})));return e.map((function(r,e){return r.toAffine(t[e])})).map(r.fromAffine)}},{key:"fromHex",value:function(e){var n=r.fromAffine(o(P("pointHex",e)));return n.assertValidity(),n}},{key:"fromPrivateKey",value:function(e){return r.BASE.multiply(s(e))}},{key:"msm",value:function(e,n){return function(r,e,n,t){if(Br(n,r),xr(t,e),n.length!==t.length)throw new Error("arrays of points and scalars must have equal length");for(var i=r.ZERO,o=F(BigInt(n.length)),a=o>12?o-3:o>4?o-2:o?2:1,u=(1<<a)-1,f=new Array(u+1).fill(i),c=i,s=Math.floor((e.BITS-1)/a)*a;s>=0;s-=a){f.fill(i);for(var d=0;d<t.length;d++){var l=t[d],h=Number(l>>BigInt(s)&BigInt(u));f[h]=f[h].add(n[d])}for(var v=i,g=f.length-1,w=i;g>0;g--)w=w.add(f[g]),v=v.add(w);if(c=c.add(v),0!==s)for(var y=0;y<a;y++)c=c.double()}return c}(r,t,e,n)}}]),r}();v.BASE=new v(e.Gx,e.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);var g,w,y=e.nBitLength,p=(g=v,w=e.endo?Math.ceil(y/2):y,{constTimeNegate:mr,hasPrecomputes:function(r){return 1!==Ir(r)},unsafeLadder:function(r,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.ZERO,t=r;e>yr;)e&pr&&(n=n.add(t)),t=t.double(),e>>=pr;return n},precomputeWindow:function(r,e){for(var n=Er(e,w),t=n.windows,i=n.windowSize,o=[],a=r,u=a,f=0;f<t;f++){u=a,o.push(u);for(var c=1;c<i;c++)u=u.add(a),o.push(u);a=u.double()}return o},wNAF:function(r,e,n){for(var t=Er(r,w),i=t.windows,o=t.windowSize,a=g.ZERO,u=g.BASE,f=BigInt(Math.pow(2,r)-1),c=Math.pow(2,r),s=BigInt(r),d=0;d<i;d++){var l=d*o,h=Number(n&f);n>>=s,h>o&&(h-=c,n+=pr);var v=l,y=l+Math.abs(h)-1,p=d%2!==0,m=h<0;0===h?u=u.add(mr(p,e[v])):a=a.add(mr(m,e[y]))}return{p:a,f:u}},wNAFUnsafe:function(r,e,n){for(var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.ZERO,i=Er(r,w),o=i.windows,a=i.windowSize,u=BigInt(Math.pow(2,r)-1),f=Math.pow(2,r),c=BigInt(r),s=0;s<o;s++){var d=s*a;if(n===yr)break;var l=Number(n&u);if(n>>=c,l>a&&(l-=f,n+=pr),0!==l){var h=e[d+Math.abs(l)-1];l<0&&(h=h.negate()),t=t.add(h)}}return t},getPrecomputes:function(r,e,n){var t=Ar.get(e);return t||(t=this.precomputeWindow(e,r),1!==r&&Ar.set(e,n(t))),t},wNAFCached:function(r,e,n){var t=Ir(r);return this.wNAF(t,this.getPrecomputes(t,r,n),e)},wNAFCachedUnsafe:function(r,e,n,t){var i=Ir(r);return 1===i?this.unsafeLadder(r,e,t):this.wNAFUnsafe(i,this.getPrecomputes(i,r,n),e,t)},setWindowSize:function(r,e){br(e,w),Sr.set(r,e),Ar.delete(r)}});return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:s,weierstrassEquation:c,isWithinCurveOrder:function(r){return V(r,Hr,e.n)}}}function Zr(r){var e=function(r){var e=kr(r);return X(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,a.A)({lowS:!0},e))}(r),n=e.Fp,i=e.n,o=n.BYTES+1,c=2*n.BYTES+1;function s(r){return ar(r,i)}function d(r){return cr(r,i)}var l=zr((0,a.A)((0,a.A)({},e),{},{toBytes:function(r,e,t){var i=e.toAffine(),o=n.toBytes(i.x),a=L;return B("isCompressed",t),t?a(Uint8Array.from([e.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes:function(r){var e=r.length,t=r[0],i=r.subarray(1);if(e!==o||2!==t&&3!==t){if(e===c&&4===t)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+o+", or uncompressed "+c+", got "+e)}var a=q(i);if(!V(a,Hr,n.ORDER))throw new Error("Point is not on curve");var u,f=g(a);try{u=n.sqrt(f)}catch(d){var s=d instanceof Error?": "+d.message:"";throw new Error("Point is not on curve"+s)}return 1===(1&t)!==((u&Hr)===Hr)&&(u=n.neg(u)),{x:a,y:u}}})),h=l.ProjectivePoint,v=l.normPrivateKeyToScalar,g=l.weierstrassEquation,w=l.isWithinCurveOrder,y=function(r){return A(N(r,e.nByteLength))};function p(r){return r>i>>Hr}var m=function(r,e,n){return q(r.slice(e,n))},E=function(){function r(e,n,t){(0,u.A)(this,r),this.r=e,this.s=n,this.recovery=t,this.assertValidity()}return(0,f.A)(r,[{key:"assertValidity",value:function(){_("r",this.r,Hr,i),_("s",this.s,Hr,i)}},{key:"addRecoveryBit",value:function(e){return new r(this.r,this.s,e)}},{key:"recoverPublicKey",value:function(r){var t=this.r,i=this.s,o=this.recovery,a=k(P("msgHash",r));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");var u=2===o||3===o?t+e.n:t;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");var f=0===(1&o)?"02":"03",c=h.fromHex(f+y(u)),l=d(u),v=s(-a*l),g=s(i*l),w=h.BASE.multiplyAndAddUnsafe(c,v,g);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}},{key:"hasHighS",value:function(){return p(this.s)}},{key:"normalizeS",value:function(){return this.hasHighS()?new r(this.r,s(-this.s),this.recovery):this}},{key:"toDERRawBytes",value:function(){return R(this.toDERHex())}},{key:"toDERHex",value:function(){return Nr.hexFromSig({r:this.r,s:this.s})}},{key:"toCompactRawBytes",value:function(){return R(this.toCompactHex())}},{key:"toCompactHex",value:function(){return y(this.r)+y(this.s)}}],[{key:"fromCompact",value:function(n){var t=e.nByteLength;return n=P("compactSignature",n,2*t),new r(m(n,0,t),m(n,t,2*t))}},{key:"fromDER",value:function(e){var n=Nr.toSig(P("DER",e));return new r(n.r,n.s)}}]),r}(),x={isValidPrivateKey:function(r){try{return v(r),!0}catch(e){return!1}},normPrivateKeyToScalar:v,randomPrivateKey:function(){var r=wr(e.n);return function(r,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=r.length,i=gr(e),o=wr(e);if(t<16||t<o||t>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+t);var a=ar(n?T(r):q(r),e-rr)+rr;return n?C(a,i):N(a,i)}(e.randomBytes(r),e.n)},precompute:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.BASE;return e._setWindowSize(r),e.multiply(BigInt(3)),e}};function S(r){var e=b(r),n="string"===typeof r,t=(e||n)&&r.length;return e?t===o||t===c:n?t===2*o||t===2*c:r instanceof h}var I=e.bits2int||function(r){if(r.length>8192)throw new Error("input is too large");var n=q(r),t=8*r.length-e.nBitLength;return t>0?n>>BigInt(t):n},k=e.bits2int_modN||function(r){return s(I(r))},O=K(e.nBitLength);function H(r){return _("num < 2^"+e.nBitLength,r,Cr,O),N(r,e.nByteLength)}function U(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;if(["recovered","canonical"].some((function(r){return r in o})))throw new Error("sign() legacy options not supported");var a=e.hash,u=e.randomBytes,f=o.lowS,c=o.prehash,l=o.extraEntropy;null==f&&(f=!0),r=P("msgHash",r),Or(o),c&&(r=P("prehashed msgHash",a(r)));var g=k(r),y=v(i),m=[H(y),H(g)];if(null!=l&&!1!==l){var b=!0===l?u(n.BYTES):l;m.push(P("extraEntropy",b))}var B=L.apply(t,m),x=g;return{seed:B,k2sig:function(r){var e=I(r);if(w(e)){var n=d(e),t=h.BASE.multiply(e).toAffine(),i=s(t.x);if(i!==Cr){var o=s(n*s(x+i*y));if(o!==Cr){var a=(t.x===i?0:2)|Number(t.y&Hr),u=o;return f&&p(o)&&(u=function(r){return p(r)?s(-r):r}(o),a^=1),new E(i,u,a)}}}}}}var z={lowS:e.lowS,prehash:!1},Z={lowS:e.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(r){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return h.fromPrivateKey(r).toRawBytes(e)},getSharedSecret:function(r,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(S(r))throw new Error("first arg must be private key");if(!S(e))throw new Error("second arg must be public key");return h.fromHex(e).multiply(v(r)).toRawBytes(n)},sign:function(r,n){var t=U(r,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:z),i=t.seed,o=t.k2sig,a=e;return Y(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(r,n,t){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Z,a=r;n=P("msgHash",n),t=P("publicKey",t);var u=o.lowS,f=o.prehash,c=o.format;if(Or(o),"strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==c&&"compact"!==c&&"der"!==c)throw new Error("format must be compact or der");var l="string"===typeof a||b(a),v=!l&&!c&&"object"===typeof a&&null!==a&&"bigint"===typeof a.r&&"bigint"===typeof a.s;if(!l&&!v)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");var g,w=void 0;try{if(v&&(w=new E(a.r,a.s)),l){try{"compact"!==c&&(w=E.fromDER(a))}catch(O){if(!(O instanceof Nr.Err))throw O}w||"der"===c||(w=E.fromCompact(a))}g=h.fromHex(t)}catch(R){return!1}if(!w)return!1;if(u&&w.hasHighS())return!1;f&&(n=e.hash(n));var y=w,p=y.r,m=y.s,B=k(n),x=d(m),A=s(B*x),S=s(p*x),I=null===(i=h.BASE.multiplyAndAddUnsafe(g,A,S))||void 0===i?void 0:i.toAffine();return!!I&&s(I.x)===p},ProjectivePoint:h,Signature:E,utils:x}}function Vr(r,e){if(lr(r),!r.isValid(e.A)||!r.isValid(e.B)||!r.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");var n=function(r,e){for(var n=r.ORDER,t=Cr,i=n-Hr;i%Pr===Cr;i/=Pr)t+=Hr;var o=t,a=Pr<<o-Hr-Hr,u=a*Pr,f=(n-Hr)/u,c=(f-Hr)/Pr,s=u-Hr,d=a,l=r.pow(e,f),h=r.pow(e,(f+Hr)/Pr),v=function(e,n){var t=l,i=r.pow(n,s),a=r.sqr(i);a=r.mul(a,n);var u=r.mul(e,a);u=r.pow(u,c),u=r.mul(u,i),i=r.mul(u,n),a=r.mul(u,e);var f=r.mul(a,i);u=r.pow(f,d);var v=r.eql(u,r.ONE);i=r.mul(a,h),u=r.mul(f,t),a=r.cmov(i,a,v),f=r.cmov(u,f,v);for(var g=o;g>Hr;g--){var w=g-Pr;w=Pr<<w-Hr;var y=r.pow(f,w),p=r.eql(y,r.ONE);i=r.mul(a,t),t=r.mul(t,t),y=r.mul(f,t),a=r.cmov(i,a,p),f=r.cmov(y,f,p)}return{isValid:v,value:a}};if(r.ORDER%Ur===Lr){var g=(r.ORDER-Lr)/Ur,w=r.sqrt(r.neg(e));v=function(e,n){var t=r.sqr(n),i=r.mul(e,n);t=r.mul(t,i);var o=r.pow(t,g);o=r.mul(o,i);var a=r.mul(o,w),u=r.mul(r.sqr(o),n),f=r.eql(u,e);return{isValid:f,value:r.cmov(a,o,f)}}}return v}(r,e.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return function(t){var i,o,a,u,f,c,s,d;i=r.sqr(t),i=r.mul(i,e.Z),o=r.sqr(i),o=r.add(o,i),a=r.add(o,r.ONE),a=r.mul(a,e.B),u=r.cmov(e.Z,r.neg(o),!r.eql(o,r.ZERO)),u=r.mul(u,e.A),o=r.sqr(a),c=r.sqr(u),f=r.mul(c,e.A),o=r.add(o,f),o=r.mul(o,a),c=r.mul(c,u),f=r.mul(c,e.B),o=r.add(o,f),s=r.mul(i,a);var l=n(o,c),h=l.isValid,v=l.value;d=r.mul(i,t),d=r.mul(d,v),s=r.cmov(s,a,h),d=r.cmov(d,v,h);var g=r.isOdd(t)===r.isOdd(d);return d=r.cmov(r.neg(d),d,g),{x:s=r.div(s,u),y:d}}}var _r=q;function Fr(r,e){if(Mr(r),Mr(e),r<0||r>=1<<8*e)throw new Error("invalid I2OSP input: "+r);for(var n=Array.from({length:e}).fill(0),t=e-1;t>=0;t--)n[t]=255&r,r>>>=8;return new Uint8Array(n)}function Dr(r,e){for(var n=new Uint8Array(r.length),t=0;t<r.length;t++)n[t]=r[t]^e[t];return n}function Mr(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function Kr(r,e,n){X(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});var t=n.p,i=n.k,o=n.m,a=n.hash,u=n.expand,f=n.DST;E(r),Mr(e);var c,s="string"===typeof f?z(f):f,d=t.toString(2).length,l=Math.ceil((d+i)/8),h=e*o*l;if("xmd"===u)c=function(r,e,n,t){E(r),E(e),Mr(n),e.length>255&&(e=t(L(z("H2C-OVERSIZE-DST-"),e)));var i=t.outputLen,o=t.blockLen,a=Math.ceil(n/i);if(n>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");var u=L(e,Fr(e.length,1)),f=Fr(0,o),c=Fr(n,2),s=new Array(a),d=t(L(f,r,c,Fr(0,1),u));s[0]=t(L(d,Fr(1,1),u));for(var l=1;l<=a;l++){var h=[Dr(d,s[l-1]),Fr(l+1,1),u];s[l]=t(L.apply(void 0,h))}return L.apply(void 0,s).slice(0,n)}(r,s,h,a);else if("xof"===u)c=function(r,e,n,t,i){if(E(r),E(e),Mr(n),e.length>255){var o=Math.ceil(2*t/8);e=i.create({dkLen:o}).update(z("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(r).update(Fr(n,2)).update(e).update(Fr(e.length,1)).digest()}(r,s,h,i,a);else{if("_internal_pass"!==u)throw new Error('expand must be "xmd" or "xof"');c=r}for(var v=new Array(e),g=0;g<e;g++){for(var w=new Array(o),y=0;y<o;y++){var p=l*(y+g*o),m=c.subarray(p,p+l);w[y]=ar(_r(m),t)}v[g]=w}return v}var jr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Wr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yr=BigInt(1),Gr=BigInt(2),Xr=function(r,e){return(r+e/Gr)/e};function Jr(r){var e=jr,n=BigInt(3),t=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),u=BigInt(44),f=BigInt(88),c=r*r*r%e,s=c*c*r%e,d=fr(s,n,e)*s%e,l=fr(d,n,e)*s%e,h=fr(l,Gr,e)*c%e,v=fr(h,i,e)*h%e,g=fr(v,o,e)*v%e,w=fr(g,u,e)*g%e,y=fr(w,f,e)*w%e,p=fr(y,u,e)*g%e,m=fr(p,n,e)*s%e,b=fr(m,a,e)*v%e,E=fr(b,t,e)*c%e,B=fr(E,Gr,e);if(!Qr.eql(Qr.sqr(B),r))throw new Error("Cannot find square root");return B}var Qr=vr(jr,void 0,void 0,{sqrt:Jr}),$r=function(r,e){var n=function(e){return Zr((0,a.A)((0,a.A)({},r),function(r){return{hash:r,hmac:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return h(r,e,o.Id.apply(void 0,t))},randomBytes:o.po}}(e)))};return(0,a.A)((0,a.A)({},n(e)),{},{create:n})}({a:BigInt(0),b:BigInt(7),Fp:Qr,n:Wr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:function(r){var e=Wr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),t=-Yr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),u=Xr(o*r,e),f=Xr(-t*r,e),c=ar(r-u*n-f*i,e),s=ar(-u*t-f*o,e),d=c>a,l=s>a;if(d&&(c=e-c),l&&(s=e-s),c>a||s>a)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:d,k1:c,k2neg:l,k2:s}}}},i.sc),re=BigInt(0),ee={};function ne(r){var e=ee[r];if(void 0===e){var n=(0,i.sc)(Uint8Array.from(r,(function(r){return r.charCodeAt(0)})));e=L(n,n),ee[r]=e}for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return(0,i.sc)(L.apply(void 0,[e].concat(o)))}var te=function(r){return r.toRawBytes(!0).slice(1)},ie=function(r){return N(r,32)},oe=function(r){return ar(r,jr)},ae=function(r){return ar(r,Wr)},ue=$r.ProjectivePoint,fe=function(r,e,n){return ue.BASE.multiplyAndAddUnsafe(r,e,n)};function ce(r){var e=$r.utils.normPrivateKeyToScalar(r),n=ue.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:ae(-e),bytes:te(n)}}function se(r){_("x",r,Yr,jr);var e=oe(r*r),n=Jr(oe(e*r+BigInt(7)));n%Gr!==re&&(n=oe(-n));var t=new ue(r,n,Yr);return t.assertValidity(),t}var de=q;function le(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return ae(de(ne.apply(void 0,["BIP0340/challenge"].concat(e))))}function he(r){return ce(r).bytes}function ve(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.po)(32),t=P("message",r),i=ce(e),a=i.bytes,u=i.scalar,f=P("auxRand",n,32),c=ie(u^de(ne("BIP0340/aux",f))),s=ne("BIP0340/nonce",c,a,t),d=ae(de(s));if(d===re)throw new Error("sign failed: k is zero");var l=ce(d),h=l.bytes,v=l.scalar,g=le(h,a,t),w=new Uint8Array(64);if(w.set(h,0),w.set(ie(ae(v+g*u)),32),!ge(w,t,a))throw new Error("sign: Invalid signature produced");return w}function ge(r,e,n){var t=P("signature",r,64),i=P("message",e),o=P("publicKey",n,32);try{var a=se(de(o)),u=de(t.subarray(0,32));if(!V(u,Yr,jr))return!1;var f=de(t.subarray(32,64));if(!V(f,Yr,Wr))return!1;var c=le(ie(u),te(a),i),s=fe(a,f,ae(-c));return!(!s||!s.hasEvenY()||s.toAffine().x!==u)}catch(d){return!1}}var we=function(){return{getPublicKey:he,sign:ve,verify:ge,utils:{randomPrivateKey:$r.utils.randomPrivateKey,lift_x:se,pointToBytes:te,numberToBytesBE:N,bytesToNumberBE:q,taggedHash:ne,mod:ar}}}(),ye=function(){return function(r,e){var n=e.map((function(r){return Array.from(r).reverse()}));return function(e,t){var i=n.map((function(n){return n.reduce((function(n,t){return r.add(r.mul(n,e),t)}))})),o=(0,w.A)(i,4),a=o[0],u=o[1],f=o[2],c=o[3];return e=r.div(a,u),t=r.mul(t,r.div(f,c)),{x:e,y:t}}}(Qr,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((function(r){return r.map((function(r){return BigInt(r)}))})))}(),pe=function(){return Vr(Qr,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Qr.create(BigInt("-11"))})}(),me=function(){return function(r,e,n){if("function"!==typeof e)throw new Error("mapToCurve() must be defined");return{hashToCurve:function(t,i){var o=Kr(t,2,(0,a.A)((0,a.A)({},n),{},{DST:n.DST},i)),u=r.fromAffine(e(o[0])),f=r.fromAffine(e(o[1])),c=u.add(f).clearCofactor();return c.assertValidity(),c},encodeToCurve:function(t,i){var o=Kr(t,1,(0,a.A)((0,a.A)({},n),{},{DST:n.encodeDST},i)),u=r.fromAffine(e(o[0])).clearCofactor();return u.assertValidity(),u},mapToCurve:function(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");var t,i=(0,v.A)(n);try{for(i.s();!(t=i.n()).done;)if("bigint"!==typeof t.value)throw new Error("mapToCurve: expected array of bigints")}catch(a){i.e(a)}finally{i.f()}var o=r.fromAffine(e(n)).clearCofactor();return o.assertValidity(),o}}}($r.ProjectivePoint,(function(r){var e=pe(Qr.create(r[0])),n=e.x,t=e.y;return ye(n,t)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Qr.ORDER,m:1,k:128,expand:"xmd",hash:i.sc})}(),be=function(){return me.hashToCurve}(),Ee=function(){return me.encodeToCurve}()}}]);
//# sourceMappingURL=932.c18dc2da.chunk.js.map